!function(t,e){for(var r in e)t[r]=e[r]}(exports,function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=16)}([function(t,e,r){"use strict";const o=r(20),n=r(1),{StripeConnectionError:i,StripeAuthenticationError:s,StripePermissionError:a,StripeRateLimitError:p,StripeError:c,StripeAPIError:u}=r(2),{HttpClient:h}=r(3);d.extend=n.protoExtend,d.method=r(12),d.BASIC_METHODS=r(36),d.MAX_BUFFERED_REQUEST_METRICS=100;function d(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=n.makeURLInterpolator(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=n.makeURLInterpolator(this.path),this.includeBasic&&this.includeBasic.forEach((function(t){this[t]=d.BASIC_METHODS[t]}),this),this.initialize(...arguments)}d.prototype={path:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){return o.join(this.basePath(e),this.path(e),"function"==typeof t?t(e):t).replace(/\\/g,"/")},createResourcePathWithSymbols(t){return"/"+o.join(this.resourcePath,t||"").replace(/\\/g,"/")},wrapTimeout:n.callbackifyPromiseWithTimeout,_timeoutHandler:(t,e,r)=>()=>{const t=new TypeError("ETIMEDOUT");t.code="ETIMEDOUT",e.destroy(t)},_addHeadersDirectlyToObject(t,e){t.requestId=e["request-id"],t.stripeAccount=t.stripeAccount||e["stripe-account"],t.apiVersion=t.apiVersion||e["stripe-version"],t.idempotencyKey=t.idempotencyKey||e["idempotency-key"]},_makeResponseEvent(t,e,r){const o=Date.now(),i=o-t.request_start_time;return n.removeNullish({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:t.method,path:t.path,status:e,request_id:this._getRequestId(r),elapsed:i,request_start_time:t.request_start_time,request_end_time:o})},_getRequestId:t=>t["request-id"],_streamingResponseHandler(t,e){return r=>{const o=r.getHeaders(),n=r.toStream(()=>{const e=this._makeResponseEvent(t,r.getStatusCode(),o);this._stripe._emitter.emit("response",e),this._recordRequestMetrics(this._getRequestId(o),e.elapsed)});return this._addHeadersDirectlyToObject(n,o),e(null,n)}},_jsonResponseHandler(t,e){return r=>{const o=r.getHeaders(),n=this._getRequestId(o),i=r.getStatusCode(),h=this._makeResponseEvent(t,i,o);this._stripe._emitter.emit("response",h),r.toJSON().then(t=>{if(t.error){let e;throw"string"==typeof t.error&&(t.error={type:t.error,message:t.error_description}),t.error.headers=o,t.error.statusCode=i,t.error.requestId=n,e=401===i?new s(t.error):403===i?new a(t.error):429===i?new p(t.error):c.generate(t.error),e}return t},t=>{throw new u({message:"Invalid JSON received from the Stripe API",exception:t,requestId:o["request-id"]})}).then(t=>{this._recordRequestMetrics(n,h.elapsed);const i=r.getRawResponse();this._addHeadersDirectlyToObject(i,o),Object.defineProperty(t,"lastResponse",{enumerable:!1,writable:!1,value:i}),e.call(this,null,t)},t=>e.call(this,t,null))}},_generateConnectionErrorMessage:t=>"An error occurred with our connection to Stripe."+(t>0?` Request was retried ${t} times.`:""),_errorHandler(t,e,r){return(t,o)=>{r.call(this,new i({message:this._generateConnectionErrorMessage(e),detail:error}),null)}},_shouldRetry:(t,e,r)=>!(e>=r)&&(!t||"false"!==t.getHeaders()["stripe-should-retry"]&&("true"===t.getHeaders()["stripe-should-retry"]||(409===t.getStatusCode()||t.getStatusCode()>=500))),_getSleepTimeInMS(t,e=null){const r=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay();let n=Math.min(r*Math.pow(t-1,2),o);return n*=.5*(1+Math.random()),n=Math.max(r,n),Number.isInteger(e)&&e<=60&&(n=Math.max(n,e)),1e3*n},_getMaxNetworkRetries(t={}){return t.maxNetworkRetries&&Number.isInteger(t.maxNetworkRetries)?t.maxNetworkRetries:this._stripe.getMaxNetworkRetries()},_defaultIdempotencyKey(t,e){const r=this._getMaxNetworkRetries(e);return"POST"===t&&r>0?"stripe-node-retry-"+n.uuid4():null},_makeHeaders(t,e,r,o,i,s,a){const p={Authorization:t?"Bearer "+t:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(i,a)},c="POST"==i||"PUT"==i||"PATCH"==i;return(c||e)&&(c||n.emitWarning(i+" method had non-zero contentLength but no payload is expected for this verb"),p["Content-Length"]=e),Object.assign(n.removeNullish(p),n.normalizeHeaders(s))},_getUserAgentString(){return`Stripe/v1 NodeBindings/${this._stripe.getConstant("PACKAGE_VERSION")} ${this._stripe._appInfo?this._stripe.getAppInfoAsString():""}`.trim()},_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const t=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:t})}},_recordRequestMetrics(t,e){this._stripe.getTelemetryEnabled()&&t&&(this._stripe._prevRequestMetrics.length>d.MAX_BUFFERED_REQUEST_METRICS?n.emitWarning("Request metrics buffer is full, dropping telemetry message."):this._stripe._prevRequestMetrics.push({request_id:t,request_duration_ms:e}))},_request(t,e,r,o,s,a={},p){let c;const u=(t,e,r,o,n)=>setTimeout(t,this._getSleepTimeInMS(o,n),e,r,o+1),d=(o,s,l)=>{const m=a.settings&&Number.isInteger(a.settings.timeout)&&a.settings.timeout>=0?a.settings.timeout:this._stripe.getApiField("timeout"),f=this._stripe.getApiField("httpClient").makeRequest(e||this._stripe.getApiField("host"),this._stripe.getApiField("port"),r,t,s,c,this._stripe.getApiField("protocol"),m),y=Date.now(),g=n.removeNullish({api_version:o,account:s["Stripe-Account"],idempotency_key:s["Idempotency-Key"],method:t,path:r,request_start_time:y}),T=l||0,E=this._getMaxNetworkRetries(a.settings);this._stripe._emitter.emit("request",g),f.then(t=>this._shouldRetry(t,T,E)?u(d,o,s,T,t.getHeaders()["retry-after"]):a.streaming&&t.getStatusCode()<400?this._streamingResponseHandler(g,p)(t):this._jsonResponseHandler(g,p)(t)).catch(t=>{if(this._shouldRetry(null,T,E))return u(d,o,s,T,null);{const e=t.code&&t.code===h.TIMEOUT_ERROR_CODE;return p.call(this,new i({message:e?`Request aborted due to timeout being reached (${m}ms)`:this._generateConnectionErrorMessage(T),detail:t}))}})},l=(e,r)=>{if(e)return p(e);c=r,this._stripe.getClientUserAgent(e=>{const r=this._stripe.getApiField("version"),o=this._makeHeaders(s,c.length,r,e,t,a.headers,a.settings);d(r,o)})};this.requestDataProcessor?this.requestDataProcessor(t,o,a.headers,l):l(null,n.stringifyRequestData(o||{}))}},t.exports=d},function(t,e,r){"use strict";const o=r(9).EventEmitter,n=r(21),i=r(11),s=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);let a=null;try{a=r(34).exec}catch(t){if("MODULE_NOT_FOUND"!==t.code)throw t}const p=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"],c={api_key:"apiKey",idempotency_key:"idempotencyKey",stripe_account:"stripeAccount",stripe_version:"apiVersion",stripeVersion:"apiVersion"},u=Object.keys(c),h=t.exports={isOptionsHash:t=>t&&"object"==typeof t&&(p.some(e=>s(t,e))||u.some(e=>s(t,e))),stringifyRequestData:t=>n.stringify(t,{serializeDate:t=>Math.floor(t.getTime()/1e3)}).replace(/%5B/g,"[").replace(/%5D/g,"]"),makeURLInterpolator:(()=>{const t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{const r=e.replace(/["\n\r\u2028\u2029]/g,e=>t[e]);return t=>r.replace(/\{([\s\S]+?)\}/g,(e,r)=>encodeURIComponent(t[r]||""))}})(),extractUrlParams:t=>{const e=t.match(/\{\w+\}/g);return e?e.map(t=>t.replace(/[{}]/g,"")):[]},getDataFromArgs(t){if(!Array.isArray(t)||!t[0]||"object"!=typeof t[0])return{};if(!h.isOptionsHash(t[0]))return t.shift();const e=Object.keys(t[0]),r=e.filter(t=>p.includes(t));return r.length>0&&r.length!==e.length&&d(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}},getOptionsFromArgs:t=>{const e={auth:null,headers:{},settings:{}};if(t.length>0){const r=t[t.length-1];if("string"==typeof r)e.auth=t.pop();else if(h.isOptionsHash(r)){const r={...t.pop()},o=Object.keys(r).filter(t=>!p.includes(t));if(o.length){o.filter(t=>{if(!c[t])return!0;const e=c[t];if(r[e])throw Error(`Both '${e}' and '${t}' were provided; please remove '${t}', which is deprecated.`);d(`'${t}' is deprecated; use '${e}' instead.`),r[e]=r[t]}).length&&d(`Invalid options found (${o.join(", ")}); ignoring.`)}r.apiKey&&(e.auth=r.apiKey),r.idempotencyKey&&(e.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(e.headers["Stripe-Account"]=r.stripeAccount),r.apiVersion&&(e.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(e.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(e.settings.timeout=r.timeout),r.host&&(e.host=r.host)}}return e},protoExtend(t){const e=this,r=s(t,"constructor")?t.constructor:function(...t){e.apply(this,t)};return Object.assign(r,e),r.prototype=Object.create(e.prototype),Object.assign(r.prototype,t),r},secureCompare:(t,e)=>{if(t=Buffer.from(t),e=Buffer.from(e),t.length!==e.length)return!1;if(i.timingSafeEqual)return i.timingSafeEqual(t,e);const r=t.length;let o=0;for(let n=0;n<r;++n)o|=t[n]^e[n];return 0===o},removeNullish:t=>{if("object"!=typeof t)throw new Error("Argument must be an object");return Object.keys(t).reduce((e,r)=>(null!=t[r]&&(e[r]=t[r]),e),{})},normalizeHeaders:t=>t&&"object"==typeof t?Object.keys(t).reduce((e,r)=>(e[h.normalizeHeader(r)]=t[r],e),{}):t,normalizeHeader:t=>t.split("-").map(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()).join("-"),checkForStream:t=>!(!t.file||!t.file.data)&&t.file.data instanceof o,callbackifyPromiseWithTimeout:(t,e)=>e?t.then(t=>{setTimeout(()=>{e(null,t)},0)},t=>{setTimeout(()=>{e(t,null)},0)}):t,pascalToCamelCase:t=>"OAuth"===t?"oauth":t[0].toLowerCase()+t.substring(1),emitWarning:d,safeExec:(t,e)=>{if(null!==h._exec)try{h._exec(t,e)}catch(t){e(t,null)}else e(new Error("exec not available"),null)},_exec:a,isObject:t=>{const e=typeof t;return("function"===e||"object"===e)&&!!t},flattenAndStringify:t=>{const e={},r=(t,o)=>{Object.keys(t).forEach(n=>{const i=t[n],s=o?`${o}[${n}]`:n;if(h.isObject(i)){if(!Buffer.isBuffer(i)&&!i.hasOwnProperty("data"))return r(i,s);e[s]=i}else e[s]=String(i)})};return r(t),e},uuid4:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),validateInteger:(t,e,r)=>{if(!Number.isInteger(e)){if(void 0!==r)return r;throw new Error(t+" must be an integer")}return e},determineProcessUserAgentProperties:()=>"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}};function d(t){return"function"!=typeof process.emitWarning?console.warn("Stripe: "+t):process.emitWarning(t,"Stripe")}},function(t,e,r){"use strict";class o extends Error{constructor(t={}){super(t.message),this.type=this.constructor.name,this.raw=t,this.rawType=t.type,this.code=t.code,this.doc_url=t.doc_url,this.param=t.param,this.detail=t.detail,this.headers=t.headers,this.requestId=t.requestId,this.statusCode=t.statusCode,this.message=t.message,this.charge=t.charge,this.decline_code=t.decline_code,this.payment_intent=t.payment_intent,this.payment_method=t.payment_method,this.payment_method_type=t.payment_method_type,this.setup_intent=t.setup_intent,this.source=t.source}static generate(t){switch(t.type){case"card_error":return new n(t);case"invalid_request_error":return new i(t);case"api_error":return new s(t);case"authentication_error":return new a(t);case"rate_limit_error":return new p(t);case"idempotency_error":return new c(t);case"invalid_grant":return new u(t);default:return new h(t)}}}class n extends o{}class i extends o{}class s extends o{}class a extends o{}class p extends o{}class c extends o{}class u extends o{}class h extends o{}t.exports.generate=o.generate,t.exports.StripeError=o,t.exports.StripeCardError=n,t.exports.StripeInvalidRequestError=i,t.exports.StripeAPIError=s,t.exports.StripeAuthenticationError=a,t.exports.StripePermissionError=class extends o{},t.exports.StripeRateLimitError=p,t.exports.StripeConnectionError=class extends o{},t.exports.StripeSignatureVerificationError=class extends o{},t.exports.StripeIdempotencyError=c,t.exports.StripeInvalidGrantError=u,t.exports.StripeUnknownError=h},function(t,e,r){"use strict";class o{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(t,e,r,o,n,i,s,a){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const t=new TypeError(o.TIMEOUT_ERROR_CODE);return t.code=o.TIMEOUT_ERROR_CODE,t}}o.TIMEOUT_ERROR_CODE="ETIMEDOUT";t.exports={HttpClient:o,HttpClientResponse:class{constructor(t,e){this._statusCode=t,this._headers=e}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(t){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}}},function(t,e,r){"use strict";var o=SyntaxError,n=Function,i=TypeError,s=function(t){try{return n('"use strict"; return ('+t+").constructor;")()}catch(t){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(t){a=null}var p=function(){throw new i},c=a?function(){try{return p}catch(t){try{return a(arguments,"callee").get}catch(t){return p}}}():p,u=r(24)(),h=Object.getPrototypeOf||function(t){return t.__proto__},d={},l="undefined"==typeof Uint8Array?void 0:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":l,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=r(5),g=r(27),T=y.call(Function.call,Array.prototype.concat),E=y.call(Function.apply,Array.prototype.splice),S=y.call(Function.call,String.prototype.replace),v=y.call(Function.call,String.prototype.slice),b=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,P=function(t){var e=v(t,0,1),r=v(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return S(t,b,(function(t,e,r,o){n[n.length]=r?S(o,x,"$1"):e||t})),n},_=function(t,e){var r,n=t;if(g(f,n)&&(n="%"+(r=f[n])[0]+"%"),g(m,n)){var a=m[n];if(a===d&&(a=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var o=t("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if("%AsyncIteratorPrototype%"===e){var n=t("%AsyncGenerator%");n&&(r=h(n.prototype))}return m[e]=r,r}(n)),void 0===a&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:a}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new i('"allowMissing" argument must be a boolean');var r=P(t),n=r.length>0?r[0]:"",s=_("%"+n+"%",e),p=s.name,c=s.value,u=!1,h=s.alias;h&&(n=h[0],E(r,T([0,1],h)));for(var d=1,l=!0;d<r.length;d+=1){var f=r[d],y=v(f,0,1),S=v(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===S||"'"===S||"`"===S)&&y!==S)throw new o("property names with quotes must have matching quotes");if("constructor"!==f&&l||(u=!0),g(m,p="%"+(n+="."+f)+"%"))c=m[p];else if(null!=c){if(!(f in c)){if(!e)throw new i("base intrinsic for "+t+" exists, but the property is not available.");return}if(a&&d+1>=r.length){var b=a(c,f);c=(l=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[f]}else l=g(c,f),c=c[f];l&&!u&&(m[p]=c)}}return c}},function(t,e,r){"use strict";var o=r(26);t.exports=Function.prototype.bind||o},function(t,e,r){"use strict";var o=String.prototype.replace,n=/%20/g,i="RFC1738",s="RFC3986";t.exports={default:s,formatters:{RFC1738:function(t){return o.call(t,n,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:s}},function(t,e,r){"use strict";t.exports=class{computeHMACSignature(t,e){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(t,e){throw new Error("computeHMACSignatureAsync not implemented.")}}},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"",create:n({method:"POST",path:"accounts"}),retrieve(t){return"string"==typeof t?n({method:"GET",path:"accounts/{id}"}).apply(this,arguments):(null==t&&[].shift.apply(arguments),n({method:"GET",path:"account"}).apply(this,arguments))},update:n({method:"POST",path:"accounts/{account}"}),list:n({method:"GET",path:"accounts",methodType:"list"}),del:n({method:"DELETE",path:"accounts/{account}"}),reject:n({method:"POST",path:"accounts/{account}/reject"}),retrieveCapability:n({method:"GET",path:"accounts/{account}/capabilities/{capability}"}),updateCapability:n({method:"POST",path:"accounts/{account}/capabilities/{capability}"}),listCapabilities:n({method:"GET",path:"accounts/{account}/capabilities",methodType:"list"}),createExternalAccount:n({method:"POST",path:"accounts/{account}/external_accounts"}),retrieveExternalAccount:n({method:"GET",path:"accounts/{account}/external_accounts/{id}"}),updateExternalAccount:n({method:"POST",path:"accounts/{account}/external_accounts/{id}"}),listExternalAccounts:n({method:"GET",path:"accounts/{account}/external_accounts",methodType:"list"}),deleteExternalAccount:n({method:"DELETE",path:"accounts/{account}/external_accounts/{id}"}),createLoginLink:n({method:"POST",path:"accounts/{account}/login_links"}),createPerson:n({method:"POST",path:"accounts/{account}/persons"}),retrievePerson:n({method:"GET",path:"accounts/{account}/persons/{person}"}),updatePerson:n({method:"POST",path:"accounts/{account}/persons/{person}"}),listPersons:n({method:"GET",path:"accounts/{account}/persons",methodType:"list"}),deletePerson:n({method:"DELETE",path:"accounts/{account}/persons/{person}"})})},function(t,e){t.exports=require("events")},function(t,e,r){"use strict";var o=r(6),n=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},o=0;o<t.length;++o)void 0!==t[o]&&(r[o]=t[o]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],o=0;o<e.length;++o)for(var n=e[o],s=n.obj[n.prop],a=Object.keys(s),p=0;p<a.length;++p){var c=a[p],u=s[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(e.push({obj:s,prop:c}),r.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(i(r)){for(var o=[],n=0;n<r.length;++n)void 0!==r[n]&&o.push(r[n]);e.obj[e.prop]=o}}}(e),t},decode:function(t,e,r){var o=t.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(t){return o}},encode:function(t,e,r,n,i){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var p="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===o.RFC1738&&(40===u||41===u)?p+=a.charAt(c):u<128?p+=s[u]:u<2048?p+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?p+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),p+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return p},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var r=[],o=0;o<t.length;o+=1)r.push(e(t[o]));return r}return e(t)},merge:function t(e,r,o){if(!r)return e;if("object"!=typeof r){if(i(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var s=e;return i(e)&&!i(r)&&(s=a(e,o)),i(e)&&i(r)?(r.forEach((function(r,i){if(n.call(e,i)){var s=e[i];s&&"object"==typeof s&&r&&"object"==typeof r?e[i]=t(s,r,o):e.push(r)}else e[i]=r})),e):Object.keys(r).reduce((function(e,i){var s=r[i];return n.call(e,i)?e[i]=t(e[i],s,o):e[i]=s,e}),s)}}},function(t,e){t.exports=require("crypto")},function(t,e,r){"use strict";const o=r(1),n=r(13),i=r(35).makeAutoPaginationMethods;t.exports=function(t){if(void 0!==t.path&&void 0!==t.fullPath)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){const r="function"==typeof e[e.length-1]&&e.pop();t.urlParams=o.extractUrlParams(t.fullPath||this.createResourcePathWithSymbols(t.path||""));const s=o.callbackifyPromiseWithTimeout(n(this,e,t,{}),r);if("list"===t.methodType||"search"===t.methodType){const r=i(this,e,t,s);Object.assign(s,r)}return s}}},function(t,e,r){"use strict";const o=r(1);t.exports=function(t,e,r,n){return new Promise((i,s)=>{let a;try{a=function(t,e,r,n){const i=(r.method||"GET").toUpperCase(),s=r.urlParams||[],a=r.encode||(t=>t),p=!!r.fullPath,c=o.makeURLInterpolator(p?r.fullPath:r.path||""),u=p?r.fullPath:t.createResourcePathWithSymbols(r.path),h=[].slice.call(e),d=s.reduce((t,e)=>{const r=h.shift();if("string"!=typeof r)throw new Error(`Stripe: Argument "${e}" must be a string, but got: ${r} (on API request to \`${i} ${u}\`)`);return t[e]=r,t},{}),l=o.getDataFromArgs(h),m=a(Object.assign({},l,n)),f=o.getOptionsFromArgs(h),y=f.host||r.host,g=!!r.streaming;if(h.filter(t=>null!=t).length)throw new Error(`Stripe: Unknown arguments (${h}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${i} \`${u}\`)`);const T=p?c(d):t.createFullPath(c,d),E=Object.assign(f.headers,r.headers);r.validator&&r.validator(m,{headers:E});const S="GET"===r.method||"DELETE"===r.method;return{requestMethod:i,requestPath:T,bodyData:S?{}:m,queryData:S?m:{},auth:f.auth,headers:E,host:y,streaming:g,settings:f.settings}}(t,e,r,n)}catch(t){return void s(t)}const p=0===Object.keys(a.queryData).length,c=[a.requestPath,p?"":"?",o.stringifyRequestData(a.queryData)].join(""),{headers:u,settings:h}=a;t._request(a.requestMethod,a.host,c,a.bodyData,a.auth,{headers:u,settings:h,streaming:a.streaming},(function(t,e){t?s(t):i(r.transformResponseData?r.transformResponseData(e):e)}))})}},function(t,e,r){"use strict";const o=r(1),{StripeError:n,StripeSignatureVerificationError:i}=r(2),s={DEFAULT_TOLERANCE:300,constructEvent(t,e,r,o,n){this.signature.verifyHeader(t,e,r,o||s.DEFAULT_TOLERANCE,n);return JSON.parse(t)},async constructEventAsync(t,e,r,o,n){await this.signature.verifyHeaderAsync(t,e,r,o||s.DEFAULT_TOLERANCE,n);return JSON.parse(t)},generateTestHeaderString:function(t){if(!t)throw new n({message:"Options are required"});t.timestamp=Math.floor(t.timestamp)||Math.floor(Date.now()/1e3),t.scheme=t.scheme||a.EXPECTED_SCHEME,t.cryptoProvider=t.cryptoProvider||d(),t.signature=t.signature||t.cryptoProvider.computeHMACSignature(t.timestamp+"."+t.payload,t.secret);return["t="+t.timestamp,t.scheme+"="+t.signature].join(",")}},a={EXPECTED_SCHEME:"v1",verifyHeader(t,e,r,o,n){const{decodedHeader:i,decodedPayload:s,details:a}=c(t,e,this.EXPECTED_SCHEME);return u(s,i,a,(n=n||d()).computeHMACSignature(p(s,a),r),o),!0},async verifyHeaderAsync(t,e,r,o,n){const{decodedHeader:i,decodedPayload:s,details:a}=c(t,e,this.EXPECTED_SCHEME);n=n||d();return u(s,i,a,await n.computeHMACSignatureAsync(p(s,a),r),o)}};function p(t,e){return`${e.timestamp}.${t}`}function c(t,e,r){const o=Buffer.isBuffer(t)?t.toString("utf8"):t;if(Array.isArray(e))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");const n=Buffer.isBuffer(e)?e.toString("utf8"):e,s=function(t,e){if("string"!=typeof t)return null;return t.split(",").reduce((t,r)=>{const o=r.split("=");return"t"===o[0]&&(t.timestamp=o[1]),o[0]===e&&t.signatures.push(o[1]),t},{timestamp:-1,signatures:[]})}(n,r);if(!s||-1===s.timestamp)throw new i({message:"Unable to extract timestamp and signatures from header",detail:{decodedHeader:n,decodedPayload:o}});if(!s.signatures.length)throw new i({message:"No signatures found with expected scheme",detail:{decodedHeader:n,decodedPayload:o}});return{decodedPayload:o,decodedHeader:n,details:s}}function u(t,e,r,n,s){if(!!!r.signatures.filter(o.secureCompare.bind(o,n)).length)throw new i({message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? https://github.com/stripe/stripe-node#webhook-signing",detail:{header:e,payload:t}});const a=Math.floor(Date.now()/1e3)-r.timestamp;if(s>0&&a>s)throw new i({message:"Timestamp outside the tolerance zone",detail:{header:e,payload:t}});return!0}let h=null;function d(){if(!h){const t=r(15);h=new t}return h}s.signature=a,t.exports=s},function(t,e,r){"use strict";const o=r(11),n=r(7);t.exports=class extends n{computeHMACSignature(t,e){return o.createHmac("sha256",e).update(t,"utf8").digest("hex")}async computeHMACSignatureAsync(t,e){return await this.computeHMACSignature(t,e)}}},function(t,e,r){const o=r(17)("sk_test_51KlAbaFxGdSEpmZH1gloVyqqZkpLQjP8KgNaArCAgoeSR7FNRCMJBiMMfArtPMo0B0LP3Vnqi5it7HkbFREaulqv00x2XYAIsb");e.handler=async function(t){const{tokenId:e,email:r,name:n,description:i,amount:s}=JSON.parse(t.body),a=await o.customers.create({description:r,source:e});await o.charges.create({customer:a.id,amount:s,name:n,description:i,currency:"usd"})}},function(t,e,r){"use strict";const o=r(18);l.PACKAGE_VERSION=r(107).version;const n=r(1),{determineProcessUserAgentProperties:i,emitWarning:s}=n;l.USER_AGENT={bindings_version:l.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1,...i()},l._UNAME_CACHE=null;const a=["name","version","url","partner_id"],p=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],c=r(9).EventEmitter;l.StripeResource=r(0),l.resources=o;const{HttpClient:u,HttpClientResponse:h}=r(3);l.HttpClient=u,l.HttpClientResponse=h;const d=r(7);function l(t,e={}){if(!(this instanceof l))return new l(t,e);const o=this._getPropsFromConfig(e);if(Object.defineProperty(this,"_emitter",{value:new c,enumerable:!1,configurable:!1,writable:!1}),this.VERSION=l.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter),o.protocol&&"https"!==o.protocol&&(!o.host||/\.stripe\.com$/.test(o.host)))throw new Error("The `https` protocol must be used when sending requests to `*.stripe.com`");const i=o.httpAgent||null;this._api={auth:null,host:o.host||"api.stripe.com",port:o.port||"443",protocol:o.protocol||"https",basePath:"/v1/",version:o.apiVersion||null,timeout:n.validateInteger("timeout",o.timeout,8e4),maxNetworkRetries:n.validateInteger("maxNetworkRetries",o.maxNetworkRetries,0),agent:i,httpClient:o.httpClient||l.createNodeHttpClient(i),dev:!1,stripeAccount:o.stripeAccount||null};const s=o.typescript||!1;s!==l.USER_AGENT.typescript&&(l.USER_AGENT.typescript=s),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setApiKey(t),this.errors=r(2),this.webhooks=r(14),this._prevRequestMetrics=[],this._enableTelemetry=!1!==o.telemetry,this.StripeResource=l.StripeResource}l.CryptoProvider=d,l.errors=r(2),l.webhooks=r(14),l.createNodeHttpClient=t=>{const{NodeHttpClient:e}=r(108);return new e(t)},l.createFetchHttpClient=t=>{const{FetchHttpClient:e}=r(111);return new e(t)},l.createNodeCryptoProvider=()=>new(r(15)),l.createSubtleCryptoProvider=t=>new(r(112))(t),l.prototype={setHost(t,e,r){s("`setHost` is deprecated. Use the `host` config option instead."),this._setApiField("host",t),e&&this.setPort(e),r&&this.setProtocol(r)},setProtocol(t){s("`setProtocol` is deprecated. Use the `protocol` config option instead."),this._setApiField("protocol",t.toLowerCase())},setPort(t){s("`setPort` is deprecated. Use the `port` config option instead."),this._setApiField("port",t)},setApiVersion(t){s("`setApiVersion` is deprecated. Use the `apiVersion` config or request option instead."),t&&this._setApiField("version",t)},setApiKey(t){s("`setApiKey` is deprecated. Use the `apiKey` request option instead."),this._setApiKey(t)},_setApiKey(t){t&&this._setApiField("auth","Bearer "+t)},setTimeout(t){s("`setTimeout` is deprecated. Use the `timeout` config or request option instead."),this._setApiField("timeout",null==t?8e4:t)},setAppInfo(t){s("`setAppInfo` is deprecated. Use the `appInfo` config option instead."),this._setAppInfo(t)},_setAppInfo(t){if(t&&"object"!=typeof t)throw new Error("AppInfo must be an object.");if(t&&!t.name)throw new Error("AppInfo.name is required");t=t||{};const e=a.reduce((e,r)=>("string"==typeof t[r]&&((e=e||{})[r]=t[r]),e),void 0);this._appInfo=e},setHttpAgent(t){s("`setHttpAgent` is deprecated. Use the `httpAgent` config option instead."),this._setApiField("agent",t)},_setApiField(t,e){this._api[t]=e},getApiField(t){return this._api[t]},setClientId(t){this._clientId=t},getClientId(){return this._clientId},getConstant:t=>{switch(t){case"DEFAULT_HOST":return"api.stripe.com";case"DEFAULT_PORT":return"443";case"DEFAULT_BASE_PATH":return"/v1/";case"DEFAULT_API_VERSION":return null;case"DEFAULT_TIMEOUT":return 8e4;case"MAX_NETWORK_RETRY_DELAY_SEC":return 2;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return.5}return l[t]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},setMaxNetworkRetries(t){this._setApiNumberField("maxNetworkRetries",t)},_setApiNumberField(t,e,r){const o=n.validateInteger(t,e,r);this._setApiField(t,o)},getMaxNetworkRetryDelay:()=>2,getInitialNetworkRetryDelay:()=>.5,getUname(t){l._UNAME_CACHE||(l._UNAME_CACHE=new Promise(t=>{n.safeExec("uname -a",(e,r)=>{t(r)})})),l._UNAME_CACHE.then(e=>t(e))},getClientUserAgent(t){return this.getClientUserAgentSeeded(l.USER_AGENT,t)},getClientUserAgentSeeded(t,e){this.getUname(r=>{const o={};for(const e in t)o[e]=encodeURIComponent(t[e]);o.uname=encodeURIComponent(r||"UNKNOWN");const n=this.getApiField("httpClient");n&&(o.httplib=encodeURIComponent(n.getClientName())),this._appInfo&&(o.application=this._appInfo),e(JSON.stringify(o))})},getAppInfoAsString(){if(!this._appInfo)return"";let t=this._appInfo.name;return this._appInfo.version&&(t+="/"+this._appInfo.version),this._appInfo.url&&(t+=` (${this._appInfo.url})`),t},setTelemetryEnabled(t){s("`setTelemetryEnabled` is deprecated. Use the `telemetry` config option instead."),this._enableTelemetry=t},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const t in o)this[n.pascalToCamelCase(t)]=new o[t](this)},_getPropsFromConfig(t){if(!t)return{};const e="string"==typeof t;if(!(t===Object(t)&&!Array.isArray(t))&&!e)throw new Error("Config must either be an object or a string");if(e)return{apiVersion:t};if(Object.keys(t).filter(t=>!p.includes(t)).length>0)throw new Error("Config object may only contain the following: "+p.join(", "));return t}},t.exports=l,t.exports.Stripe=l,t.exports.default=l},function(t,e,r){"use strict";const o=r(19);t.exports={Accounts:r(8),Account:r(8),AccountLinks:r(37),ApplePayDomains:r(38),ApplicationFees:r(39),Balance:r(40),BalanceTransactions:r(41),Charges:r(42),CountrySpecs:r(43),Coupons:r(44),CreditNotes:r(45),Customers:r(46),Disputes:r(47),EphemeralKeys:r(48),Events:r(49),ExchangeRates:r(50),Files:r(51),FileLinks:r(53),Invoices:r(54),InvoiceItems:r(55),IssuerFraudRecords:r(56),Mandates:r(57),OAuth:r(58),Orders:r(59),OrderReturns:r(60),PaymentIntents:r(61),PaymentLinks:r(62),PaymentMethods:r(63),Payouts:r(64),Plans:r(65),Prices:r(66),Products:r(67),PromotionCodes:r(68),Quotes:r(69),Refunds:r(70),Reviews:r(71),SetupAttempts:r(72),SetupIntents:r(73),ShippingRates:r(74),Skus:r(75),Sources:r(76),Subscriptions:r(77),SubscriptionItems:r(78),SubscriptionSchedules:r(79),TaxCodes:r(80),TaxRates:r(81),Tokens:r(82),Topups:r(83),Transfers:r(84),WebhookEndpoints:r(85),BillingPortal:o("billingPortal",{Configurations:r(86),Sessions:r(87)}),Checkout:o("checkout",{Sessions:r(88)}),Identity:o("identity",{VerificationReports:r(89),VerificationSessions:r(90)}),Issuing:o("issuing",{Authorizations:r(91),Cards:r(92),Cardholders:r(93),Disputes:r(94),Transactions:r(95)}),Radar:o("radar",{EarlyFraudWarnings:r(96),ValueLists:r(97),ValueListItems:r(98)}),Reporting:o("reporting",{ReportRuns:r(99),ReportTypes:r(100)}),Sigma:o("sigma",{ScheduledQueryRuns:r(101)}),Terminal:o("terminal",{ConnectionTokens:r(102),Locations:r(103),Readers:r(104)}),TestHelpers:o("testHelpers",{TestClocks:r(105),Terminal:o("terminal",{Readers:r(106)})})}},function(t,e,r){"use strict";function o(t,e){for(const r in e){const o=r[0].toLowerCase()+r.substring(1),n=new e[r](t);this[o]=n}}t.exports=function(t,e){return function(t){return new o(t,e)}},t.exports.ResourceNamespace=o},function(t,e){t.exports=require("path")},function(t,e,r){"use strict";var o=r(22),n=r(33),i=r(6);t.exports={formats:i,parse:n,stringify:o}},function(t,e,r){"use strict";var o=r(23),n=r(10),i=r(6),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},p=Array.isArray,c=String.prototype.split,u=Array.prototype.push,h=function(t,e){u.apply(t,p(e)?e:[e])},d=Date.prototype.toISOString,l=i.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:l,formatter:i.formatters[l],indices:!1,serializeDate:function(t){return d.call(t)},skipNulls:!1,strictNullHandling:!1},f={},y=function t(e,r,i,s,a,u,d,l,y,g,T,E,S,v,b){for(var x,P=e,_=b,O=0,A=!1;void 0!==(_=_.get(f))&&!A;){var w=_.get(e);if(O+=1,void 0!==w){if(w===O)throw new RangeError("Cyclic object value");A=!0}void 0===_.get(f)&&(O=0)}if("function"==typeof d?P=d(r,P):P instanceof Date?P=g(P):"comma"===i&&p(P)&&(P=n.maybeMap(P,(function(t){return t instanceof Date?g(t):t}))),null===P){if(s)return u&&!S?u(r,m.encoder,v,"key",T):r;P=""}if("string"==typeof(x=P)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||n.isBuffer(P)){if(u){var R=S?r:u(r,m.encoder,v,"key",T);if("comma"===i&&S){for(var j=c.call(String(P),","),C="",I=0;I<j.length;++I)C+=(0===I?"":",")+E(u(j[I],m.encoder,v,"value",T));return[E(R)+"="+C]}return[E(R)+"="+E(u(P,m.encoder,v,"value",T))]}return[E(r)+"="+E(String(P))]}var G,k=[];if(void 0===P)return k;if("comma"===i&&p(P))G=[{value:P.length>0?P.join(",")||null:void 0}];else if(p(d))G=d;else{var N=Object.keys(P);G=l?N.sort(l):N}for(var D=0;D<G.length;++D){var M=G[D],F="object"==typeof M&&void 0!==M.value?M.value:P[M];if(!a||null!==F){var U=p(P)?"function"==typeof i?i(r,M):r:r+(y?"."+M:"["+M+"]");b.set(e,O);var L=o();L.set(f,b),h(k,t(F,U,i,s,a,u,d,l,y,g,T,E,S,v,L))}}return k};t.exports=function(t,e){var r,n=t,c=function(t){if(!t)return m;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||m.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==t.format){if(!s.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var o=i.formatters[r],n=m.filter;return("function"==typeof t.filter||p(t.filter))&&(n=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===t.allowDots?m.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:m.charsetSentinel,delimiter:void 0===t.delimiter?m.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:m.encode,encoder:"function"==typeof t.encoder?t.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:m.encodeValuesOnly,filter:n,format:r,formatter:o,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:m.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:m.strictNullHandling}}(e);"function"==typeof c.filter?n=(0,c.filter)("",n):p(c.filter)&&(r=c.filter);var u,d=[];if("object"!=typeof n||null===n)return"";u=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var l=a[u];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var f=o(),g=0;g<r.length;++g){var T=r[g];c.skipNulls&&null===n[T]||h(d,y(n[T],T,l,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,f))}var E=d.join(c.delimiter),S=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),E.length>0?S+E:""}},function(t,e,r){"use strict";var o=r(4),n=r(28),i=r(30),s=o("%TypeError%"),a=o("%WeakMap%",!0),p=o("%Map%",!0),c=n("WeakMap.prototype.get",!0),u=n("WeakMap.prototype.set",!0),h=n("WeakMap.prototype.has",!0),d=n("Map.prototype.get",!0),l=n("Map.prototype.set",!0),m=n("Map.prototype.has",!0),f=function(t,e){for(var r,o=t;null!==(r=o.next);o=r)if(r.key===e)return o.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,o={assert:function(t){if(!o.has(t))throw new s("Side channel does not contain "+i(t))},get:function(o){if(a&&o&&("object"==typeof o||"function"==typeof o)){if(t)return c(t,o)}else if(p){if(e)return d(e,o)}else if(r)return function(t,e){var r=f(t,e);return r&&r.value}(r,o)},has:function(o){if(a&&o&&("object"==typeof o||"function"==typeof o)){if(t)return h(t,o)}else if(p){if(e)return m(e,o)}else if(r)return function(t,e){return!!f(t,e)}(r,o);return!1},set:function(o,n){a&&o&&("object"==typeof o||"function"==typeof o)?(t||(t=new a),u(t,o,n)):p?(e||(e=new p),l(e,o,n)):(r||(r={key:{},next:null}),function(t,e,r){var o=f(t,e);o?o.value=r:t.next={key:e,next:t.next,value:r}}(r,o,n))}};return o}},function(t,e,r){"use strict";var o="undefined"!=typeof Symbol&&Symbol,n=r(25);t.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"==typeof o("foo")&&("symbol"==typeof Symbol("bar")&&n())))}},function(t,e,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},function(t,e,r){"use strict";var o="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==i.call(e))throw new TypeError(o+e);for(var r,s=n.call(arguments,1),a=function(){if(this instanceof r){var o=e.apply(this,s.concat(n.call(arguments)));return Object(o)===o?o:this}return e.apply(t,s.concat(n.call(arguments)))},p=Math.max(0,e.length-s.length),c=[],u=0;u<p;u++)c.push("$"+u);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(a),e.prototype){var h=function(){};h.prototype=e.prototype,r.prototype=new h,h.prototype=null}return r}},function(t,e,r){"use strict";var o=r(5);t.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var o=r(4),n=r(29),i=n(o("String.prototype.indexOf"));t.exports=function(t,e){var r=o(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?n(r):r}},function(t,e,r){"use strict";var o=r(5),n=r(4),i=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||o.call(s,i),p=n("%Object.getOwnPropertyDescriptor%",!0),c=n("%Object.defineProperty%",!0),u=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=a(o,s,arguments);if(p&&c){var r=p(e,"length");r.configurable&&c(e,"length",{value:1+u(0,t.length-(arguments.length-1))})}return e};var h=function(){return a(o,i,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},function(t,e,r){var o="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=o&&n&&"function"==typeof n.get?n.get:null,s=o&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,p=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&p&&"function"==typeof p.get?p.get:null,u=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,l="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,f=Object.prototype.toString,y=Function.prototype.toString,g=String.prototype.match,T=String.prototype.slice,E=String.prototype.replace,S=String.prototype.toUpperCase,v=String.prototype.toLowerCase,b=RegExp.prototype.test,x=Array.prototype.concat,P=Array.prototype.join,_=Array.prototype.slice,O=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,w=Object.getOwnPropertySymbols,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,j="function"==typeof Symbol&&"object"==typeof Symbol.iterator,C="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===j||"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,G=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function k(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||b.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var o=t<0?-O(-t):O(t);if(o!==t){var n=String(o),i=T.call(e,n.length+1);return E.call(n,r,"$&_")+"."+E.call(E.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(e,r,"$&_")}var N=r(31).custom,D=N&&L(N)?N:null;function M(t,e,r){var o="double"===(r.quoteStyle||e)?'"':"'";return o+t+o}function F(t){return E.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==B(t)||C&&"object"==typeof t&&C in t)}function L(t){if(j)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!R)return!1;try{return R.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,o,n){var a=r||{};if(q(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(q(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var p=!q(a,"customInspect")||a.customInspect;if("boolean"!=typeof p&&"symbol"!==p)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(q(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(q(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return function t(e,r){if(e.length>r.maxStringLength){var o=e.length-r.maxStringLength,n="... "+o+" more character"+(o>1?"s":"");return t(T.call(e,0,r.maxStringLength),r)+n}return M(E.call(E.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$),"single",r)}(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var S=String(e);return f?k(e,S):S}if("bigint"==typeof e){var b=String(e)+"n";return f?k(e,b):b}var O=void 0===a.depth?5:a.depth;if(void 0===o&&(o=0),o>=O&&O>0&&"object"==typeof e)return U(e)?"[Array]":"[Object]";var w=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=P.call(Array(t.indent+1)," ")}return{base:r,prev:P.call(Array(e+1),r)}}(a,o);if(void 0===n)n=[];else if(W(n,e)>=0)return"[Circular]";function N(e,r,i){if(r&&(n=_.call(n)).push(r),i){var s={depth:a.depth};return q(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,o+1,n)}return t(e,a,o+1,n)}if("function"==typeof e){var H=function(t){if(t.name)return t.name;var e=g.call(y.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),X=Q(e,N);return"[Function"+(H?": "+H:" (anonymous)")+"]"+(X.length>0?" { "+P.call(X,", ")+" }":"")}if(L(e)){var Y=j?E.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(e);return"object"!=typeof e||j?Y:V(Y)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var Z="<"+v.call(String(e.nodeName)),tt=e.attributes||[],et=0;et<tt.length;et++)Z+=" "+tt[et].name+"="+M(F(tt[et].value),"double",a);return Z+=">",e.childNodes&&e.childNodes.length&&(Z+="..."),Z+="</"+v.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var rt=Q(e,N);return w&&!function(t){for(var e=0;e<t.length;e++)if(W(t[e],"\n")>=0)return!1;return!0}(rt)?"["+J(rt,w)+"]":"[ "+P.call(rt,", ")+" ]"}if(function(t){return!("[object Error]"!==B(t)||C&&"object"==typeof t&&C in t)}(e)){var ot=Q(e,N);return"cause"in e&&!I.call(e,"cause")?"{ ["+String(e)+"] "+P.call(x.call("[cause]: "+N(e.cause),ot),", ")+" }":0===ot.length?"["+String(e)+"]":"{ ["+String(e)+"] "+P.call(ot,", ")+" }"}if("object"==typeof e&&p){if(D&&"function"==typeof e[D])return e[D]();if("symbol"!==p&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var nt=[];return s.call(e,(function(t,r){nt.push(N(r,e,!0)+" => "+N(t,e))})),K("Map",i.call(e),nt,w)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var it=[];return u.call(e,(function(t){it.push(N(t,e))})),K("Set",c.call(e),it,w)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return z("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return z("WeakSet");if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{return l.call(t),!0}catch(t){}return!1}(e))return z("WeakRef");if(function(t){return!("[object Number]"!==B(t)||C&&"object"==typeof t&&C in t)}(e))return V(N(Number(e)));if(function(t){if(!t||"object"!=typeof t||!A)return!1;try{return A.call(t),!0}catch(t){}return!1}(e))return V(N(A.call(e)));if(function(t){return!("[object Boolean]"!==B(t)||C&&"object"==typeof t&&C in t)}(e))return V(m.call(e));if(function(t){return!("[object String]"!==B(t)||C&&"object"==typeof t&&C in t)}(e))return V(N(String(e)));if(!function(t){return!("[object Date]"!==B(t)||C&&"object"==typeof t&&C in t)}(e)&&!function(t){return!("[object RegExp]"!==B(t)||C&&"object"==typeof t&&C in t)}(e)){var st=Q(e,N),at=G?G(e)===Object.prototype:e instanceof Object||e.constructor===Object,pt=e instanceof Object?"":"null prototype",ct=!at&&C&&Object(e)===e&&C in e?T.call(B(e),8,-1):pt?"Object":"",ut=(at||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ct||pt?"["+P.call(x.call([],ct||[],pt||[]),": ")+"] ":"");return 0===st.length?ut+"{}":w?ut+"{"+J(st,w)+"}":ut+"{ "+P.call(st,", ")+" }"}return String(e)};var H=Object.prototype.hasOwnProperty||function(t){return t in this};function q(t,e){return H.call(t,e)}function B(t){return f.call(t)}function W(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function $(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+S.call(e.toString(16))}function V(t){return"Object("+t+")"}function z(t){return t+" { ? }"}function K(t,e,r,o){return t+" ("+e+") {"+(o?J(r,o):P.call(r,", "))+"}"}function J(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+P.call(t,","+r)+"\n"+e.prev}function Q(t,e){var r=U(t),o=[];if(r){o.length=t.length;for(var n=0;n<t.length;n++)o[n]=q(t,n)?e(t[n],t):""}var i,s="function"==typeof w?w(t):[];if(j){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var p in t)q(t,p)&&(r&&String(Number(p))===p&&p<t.length||j&&i["$"+p]instanceof Symbol||(b.call(/[^\w$]/,p)?o.push(e(p,t)+": "+e(t[p],t)):o.push(p+": "+e(t[p],t))));if("function"==typeof w)for(var c=0;c<s.length;c++)I.call(t,s[c])&&o.push("["+e(s[c])+"]: "+e(t[s[c]],t));return o}},function(t,e,r){t.exports=r(32).inspect},function(t,e){t.exports=require("util")},function(t,e,r){"use strict";var o=r(10),n=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},p=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,r,o){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=a?i.slice(0,a.index):i,u=[];if(c){if(!r.plainObjects&&n.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var h=0;r.depth>0&&null!==(a=s.exec(i))&&h<r.depth;){if(h+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+i.slice(a.index)+"]"),function(t,e,r,o){for(var n=o?e:p(e,r),i=t.length-1;i>=0;--i){var s,a=t[i];if("[]"===a&&r.parseArrays)s=[].concat(n);else{s=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);r.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[])[u]=n:"__proto__"!==c&&(s[c]=n):s={0:n}}n=s}return n}(u,e,r,o)}};t.exports=function(t,e){var r=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||o.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var r,c={},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,d=u.split(e.delimiter,h),l=-1,m=e.charset;if(e.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?m="utf-8":"utf8=%26%2310003%3B"===d[r]&&(m="iso-8859-1"),l=r,r=d.length);for(r=0;r<d.length;++r)if(r!==l){var f,y,g=d[r],T=g.indexOf("]="),E=-1===T?g.indexOf("="):T+1;-1===E?(f=e.decoder(g,s.decoder,m,"key"),y=e.strictNullHandling?null:""):(f=e.decoder(g.slice(0,E),s.decoder,m,"key"),y=o.maybeMap(p(g.slice(E+1),e),(function(t){return e.decoder(t,s.decoder,m,"value")}))),y&&e.interpretNumericEntities&&"iso-8859-1"===m&&(y=a(y)),g.indexOf("[]=")>-1&&(y=i(y)?[y]:y),n.call(c,f)?c[f]=o.combine(c[f],y):c[f]=y}return c}(t,r):t,h=r.plainObjects?Object.create(null):{},d=Object.keys(u),l=0;l<d.length;++l){var m=d[l],f=c(m,u[m],r,"string"==typeof t);h=o.merge(h,f,r)}return!0===r.allowSparse?h:o.compact(h)}},function(t,e){t.exports=require("child_process")},function(t,e,r){"use strict";const o=r(13),n=r(1);function i(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function s(t){if(t.length<2)return;const e=t[1];if("function"!=typeof e)throw Error("The second argument to autoPagingEach, if present, must be a callback function; received "+typeof e);return e}function a(t){if(0===t.length)return;const e=t[0];if("function"!=typeof e)throw Error("The first argument to autoPagingEach, if present, must be a callback function; received "+typeof e);if(2===e.length)return e;if(e.length>2)throw Error("The `onItem` callback function passed to autoPagingEach must accept at most two arguments; got "+e);return function(t,r){r(e(t))}}function p(t,e){return new Promise((r,o)=>{t().then((function o(n){if(n.done)return void r();const i=n.value;return new Promise(t=>{e(i,t)}).then(e=>!1===e?o({done:!0}):t().then(o))})).catch(o)})}t.exports.makeAutoPaginationMethods=function(t,e,r,c){const u={currentPromise:null},h=function(t){const e=[].slice.call(t);return!!n.getDataFromArgs(e).ending_before}(e);let d,l=c,m=0;function f(t){if(!t||!t.data||"number"!=typeof t.data.length)throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");if(m<t.data.length){const e=h?t.data.length-1-m:m,r=t.data[e];return m+=1,{value:r,done:!1}}return t.has_more?(m=0,l=d(t),l.then(f)):{value:void 0,done:!0}}function y(){return function(t,e){if(t.currentPromise)return t.currentPromise;return t.currentPromise=new Promise(e).then(e=>(t.currentPromise=void 0,e)),t.currentPromise}(u,(t,e)=>l.then(f).then(t).catch(e))}d="search"===r.methodType?n=>{if(!n.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return o(t,e,r,{page:n.next_page})}:n=>{const i=function(t,e){const r=e?0:t.data.length-1,o=t.data[r],n=o&&o.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}(n,h);return o(t,e,r,{[h?"ending_before":"starting_after"]:i})};const g=function(t){return function(){const e=[].slice.call(arguments),r=a(e),o=s(e);if(e.length>2)throw Error("autoPagingEach takes up to two arguments; received "+e);const i=p(t,r);return n.callbackifyPromiseWithTimeout(i,o)}}(y),T=function(t){return function(e,r){const o=e&&e.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const i=new Promise((e,r)=>{const n=[];t(t=>{if(n.push(t),n.length>=o)return!1}).then(()=>{e(n)}).catch(r)});return n.callbackifyPromiseWithTimeout(i,r)}}(g),E={autoPagingEach:g,autoPagingToArray:T,next:y,return:()=>({}),[i()]:()=>E};return E}},function(t,e,r){"use strict";const o=r(12);t.exports={create:o({method:"POST"}),list:o({method:"GET",methodType:"list"}),retrieve:o({method:"GET",path:"/{id}"}),update:o({method:"POST",path:"{id}"}),del:o({method:"DELETE",path:"{id}"})}},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"account_links",create:n({method:"POST",path:""})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"apple_pay/domains",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{domain}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{domain}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"application_fees",retrieve:n({method:"GET",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"}),createRefund:n({method:"POST",path:"/{id}/refunds"}),retrieveRefund:n({method:"GET",path:"/{fee}/refunds/{id}"}),updateRefund:n({method:"POST",path:"/{fee}/refunds/{id}"}),listRefunds:n({method:"GET",path:"/{id}/refunds",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"balance",retrieve:n({method:"GET",path:""})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"balance_transactions",retrieve:n({method:"GET",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"charges",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{charge}"}),update:n({method:"POST",path:"/{charge}"}),list:n({method:"GET",path:"",methodType:"list"}),capture:n({method:"POST",path:"/{charge}/capture"}),search:n({method:"GET",path:"/search",methodType:"search"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"country_specs",retrieve:n({method:"GET",path:"/{country}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"coupons",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{coupon}"}),update:n({method:"POST",path:"/{coupon}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{coupon}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"credit_notes",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{id}"}),update:n({method:"POST",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"}),preview:n({method:"GET",path:"/preview"}),voidCreditNote:n({method:"POST",path:"/{id}/void"}),listLineItems:n({method:"GET",path:"/{creditNote}/lines",methodType:"list"}),listPreviewLineItems:n({method:"GET",path:"/preview/lines",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"customers",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{customer}"}),update:n({method:"POST",path:"/{customer}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{customer}"}),deleteDiscount:n({method:"DELETE",path:"/{customer}/discount"}),listPaymentMethods:n({method:"GET",path:"/{customer}/payment_methods",methodType:"list"}),search:n({method:"GET",path:"/search",methodType:"search"}),createBalanceTransaction:n({method:"POST",path:"/{customer}/balance_transactions"}),retrieveBalanceTransaction:n({method:"GET",path:"/{customer}/balance_transactions/{transaction}"}),updateBalanceTransaction:n({method:"POST",path:"/{customer}/balance_transactions/{transaction}"}),listBalanceTransactions:n({method:"GET",path:"/{customer}/balance_transactions",methodType:"list"}),createSource:n({method:"POST",path:"/{customer}/sources"}),retrieveSource:n({method:"GET",path:"/{customer}/sources/{id}"}),updateSource:n({method:"POST",path:"/{customer}/sources/{id}"}),listSources:n({method:"GET",path:"/{customer}/sources",methodType:"list"}),deleteSource:n({method:"DELETE",path:"/{customer}/sources/{id}"}),verifySource:n({method:"POST",path:"/{customer}/sources/{id}/verify"}),createTaxId:n({method:"POST",path:"/{customer}/tax_ids"}),retrieveTaxId:n({method:"GET",path:"/{customer}/tax_ids/{id}"}),listTaxIds:n({method:"GET",path:"/{customer}/tax_ids",methodType:"list"}),deleteTaxId:n({method:"DELETE",path:"/{customer}/tax_ids/{id}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"disputes",retrieve:n({method:"GET",path:"/{dispute}"}),update:n({method:"POST",path:"/{dispute}"}),list:n({method:"GET",path:"",methodType:"list"}),close:n({method:"POST",path:"/{dispute}/close"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"ephemeral_keys",create:n({method:"POST",path:"",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:n({method:"DELETE",path:"/{key}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"events",retrieve:n({method:"GET",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"exchange_rates",retrieve:n({method:"GET",path:"/{rateId}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const{multipartRequestDataProcessor:o}=r(52),n=r(0),i=n.method;t.exports=n.extend({path:"files",create:i({method:"POST",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:i({method:"GET",path:"/{file}"}),list:i({method:"GET",path:"",methodType:"list"}),requestDataProcessor:o})},function(t,e,r){"use strict";const o=r(1),{StripeError:n}=r(2);class i extends n{}const s=(t,e,r)=>{const n=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();r["Content-Type"]="multipart/form-data; boundary="+n;let i=Buffer.alloc(0);function s(t){const e=i,r=t instanceof Buffer?t:Buffer.from(t);i=Buffer.alloc(e.length+r.length+2),e.copy(i),r.copy(i,e.length),i.write("\r\n",i.length-2)}function a(t){return`"${t.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const p=o.flattenAndStringify(e);for(const t in p){const e=p[t];s("--"+n),e.hasOwnProperty("data")?(s(`Content-Disposition: form-data; name=${a(t)}; filename=${a(e.name||"blob")}`),s("Content-Type: "+(e.type||"application/octet-stream")),s(""),s(e.data)):(s("Content-Disposition: form-data; name="+a(t)),s(""),s(e))}return s(`--${n}--`),i};t.exports.multipartRequestDataProcessor=(t,e,r,n)=>{if(e=e||{},"POST"!==t)return n(null,o.stringifyRequestData(e));if(o.checkForStream(e))return((t,e,r,o)=>{const n=[];e.file.data.on("data",t=>{n.push(t)}).once("end",()=>{const t=Object.assign({},e);t.file.data=Buffer.concat(n);const i=s(0,t,r);o(null,i)}).on("error",t=>{o(new i({message:"An error occurred while attempting to process the file for upload.",detail:t}),null)})})(0,e,r,n);return n(null,s(0,e,r))}},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"file_links",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{link}"}),update:n({method:"POST",path:"/{link}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"invoices",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{invoice}"}),update:n({method:"POST",path:"/{invoice}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{invoice}"}),finalizeInvoice:n({method:"POST",path:"/{invoice}/finalize"}),markUncollectible:n({method:"POST",path:"/{invoice}/mark_uncollectible"}),pay:n({method:"POST",path:"/{invoice}/pay"}),retrieveUpcoming:n({method:"GET",path:"/upcoming"}),search:n({method:"GET",path:"/search",methodType:"search"}),sendInvoice:n({method:"POST",path:"/{invoice}/send"}),voidInvoice:n({method:"POST",path:"/{invoice}/void"}),listLineItems:n({method:"GET",path:"/{invoice}/lines",methodType:"list"}),listUpcomingLineItems:n({method:"GET",path:"/upcoming/lines",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"invoiceitems",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{invoiceitem}"}),update:n({method:"POST",path:"/{invoiceitem}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{invoiceitem}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"issuer_fraud_records",retrieve:n({method:"GET",path:"/{issuerFraudRecord}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"mandates",retrieve:n({method:"GET",path:"/{mandate}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method,i=r(1),s="connect.stripe.com";t.exports=o.extend({basePath:"/",authorizeUrl(t,e){t=t||{};let r="oauth/authorize";return(e=e||{}).express&&(r="express/"+r),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${s}/${r}?${i.stringifyRequestData(t)}`},token:n({method:"POST",path:"oauth/token",host:s}),deauthorize(t){return t.client_id||(t.client_id=this._stripe.getClientId()),n({method:"POST",path:"oauth/deauthorize",host:s}).apply(this,arguments)}})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"orders",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{id}"}),update:n({method:"POST",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"}),pay:n({method:"POST",path:"/{id}/pay"}),returnOrder:n({method:"POST",path:"/{id}/returns"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"order_returns",retrieve:n({method:"GET",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"payment_intents",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{intent}"}),update:n({method:"POST",path:"/{intent}"}),list:n({method:"GET",path:"",methodType:"list"}),cancel:n({method:"POST",path:"/{intent}/cancel"}),capture:n({method:"POST",path:"/{intent}/capture"}),confirm:n({method:"POST",path:"/{intent}/confirm"}),search:n({method:"GET",path:"/search",methodType:"search"}),verifyMicrodeposits:n({method:"POST",path:"/{intent}/verify_microdeposits"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"payment_links",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{paymentLink}"}),update:n({method:"POST",path:"/{paymentLink}"}),list:n({method:"GET",path:"",methodType:"list"}),listLineItems:n({method:"GET",path:"/{paymentLink}/line_items",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"payment_methods",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{paymentMethod}"}),update:n({method:"POST",path:"/{paymentMethod}"}),list:n({method:"GET",path:"",methodType:"list"}),attach:n({method:"POST",path:"/{paymentMethod}/attach"}),detach:n({method:"POST",path:"/{paymentMethod}/detach"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"payouts",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{payout}"}),update:n({method:"POST",path:"/{payout}"}),list:n({method:"GET",path:"",methodType:"list"}),cancel:n({method:"POST",path:"/{payout}/cancel"}),reverse:n({method:"POST",path:"/{payout}/reverse"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"plans",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{plan}"}),update:n({method:"POST",path:"/{plan}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{plan}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"prices",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{price}"}),update:n({method:"POST",path:"/{price}"}),list:n({method:"GET",path:"",methodType:"list"}),search:n({method:"GET",path:"/search",methodType:"search"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"products",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{id}"}),update:n({method:"POST",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{id}"}),search:n({method:"GET",path:"/search",methodType:"search"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"promotion_codes",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{promotionCode}"}),update:n({method:"POST",path:"/{promotionCode}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"quotes",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{quote}"}),update:n({method:"POST",path:"/{quote}"}),list:n({method:"GET",path:"",methodType:"list"}),accept:n({method:"POST",path:"/{quote}/accept"}),cancel:n({method:"POST",path:"/{quote}/cancel"}),finalizeQuote:n({method:"POST",path:"/{quote}/finalize"}),listComputedUpfrontLineItems:n({method:"GET",path:"/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:n({method:"GET",path:"/{quote}/line_items",methodType:"list"}),pdf:n({host:"files.stripe.com",method:"GET",path:"/{quote}/pdf",streaming:!0})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"refunds",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{refund}"}),update:n({method:"POST",path:"/{refund}"}),list:n({method:"GET",path:"",methodType:"list"}),cancel:n({method:"POST",path:"/{refund}/cancel"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"reviews",retrieve:n({method:"GET",path:"/{review}"}),list:n({method:"GET",path:"",methodType:"list"}),approve:n({method:"POST",path:"/{review}/approve"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"setup_attempts",list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"setup_intents",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{intent}"}),update:n({method:"POST",path:"/{intent}"}),list:n({method:"GET",path:"",methodType:"list"}),cancel:n({method:"POST",path:"/{intent}/cancel"}),confirm:n({method:"POST",path:"/{intent}/confirm"}),verifyMicrodeposits:n({method:"POST",path:"/{intent}/verify_microdeposits"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"shipping_rates",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{shippingRateToken}"}),update:n({method:"POST",path:"/{shippingRateToken}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"skus",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{id}"}),update:n({method:"POST",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{id}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"sources",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{source}"}),update:n({method:"POST",path:"/{source}"}),listSourceTransactions:n({method:"GET",path:"/{source}/source_transactions",methodType:"list"}),verify:n({method:"POST",path:"/{source}/verify"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"subscriptions",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{subscriptionExposedId}"}),update:n({method:"POST",path:"/{subscriptionExposedId}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{subscriptionExposedId}"}),deleteDiscount:n({method:"DELETE",path:"/{subscriptionExposedId}/discount"}),search:n({method:"GET",path:"/search",methodType:"search"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"subscription_items",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{item}"}),update:n({method:"POST",path:"/{item}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{item}"}),createUsageRecord:n({method:"POST",path:"/{subscriptionItem}/usage_records"}),listUsageRecordSummaries:n({method:"GET",path:"/{subscriptionItem}/usage_record_summaries",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"subscription_schedules",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{schedule}"}),update:n({method:"POST",path:"/{schedule}"}),list:n({method:"GET",path:"",methodType:"list"}),cancel:n({method:"POST",path:"/{schedule}/cancel"}),release:n({method:"POST",path:"/{schedule}/release"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"tax_codes",retrieve:n({method:"GET",path:"/{id}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"tax_rates",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{taxRate}"}),update:n({method:"POST",path:"/{taxRate}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"tokens",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{token}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"topups",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{topup}"}),update:n({method:"POST",path:"/{topup}"}),list:n({method:"GET",path:"",methodType:"list"}),cancel:n({method:"POST",path:"/{topup}/cancel"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"transfers",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{transfer}"}),update:n({method:"POST",path:"/{transfer}"}),list:n({method:"GET",path:"",methodType:"list"}),createReversal:n({method:"POST",path:"/{id}/reversals"}),retrieveReversal:n({method:"GET",path:"/{transfer}/reversals/{id}"}),updateReversal:n({method:"POST",path:"/{transfer}/reversals/{id}"}),listReversals:n({method:"GET",path:"/{id}/reversals",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"webhook_endpoints",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{webhookEndpoint}"}),update:n({method:"POST",path:"/{webhookEndpoint}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{webhookEndpoint}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"billing_portal/configurations",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{configuration}"}),update:n({method:"POST",path:"/{configuration}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"billing_portal/sessions",create:n({method:"POST",path:""})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"checkout/sessions",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{session}"}),list:n({method:"GET",path:"",methodType:"list"}),expire:n({method:"POST",path:"/{session}/expire"}),listLineItems:n({method:"GET",path:"/{session}/line_items",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"identity/verification_reports",retrieve:n({method:"GET",path:"/{report}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"identity/verification_sessions",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{session}"}),update:n({method:"POST",path:"/{session}"}),list:n({method:"GET",path:"",methodType:"list"}),cancel:n({method:"POST",path:"/{session}/cancel"}),redact:n({method:"POST",path:"/{session}/redact"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"issuing/authorizations",retrieve:n({method:"GET",path:"/{authorization}"}),update:n({method:"POST",path:"/{authorization}"}),list:n({method:"GET",path:"",methodType:"list"}),approve:n({method:"POST",path:"/{authorization}/approve"}),decline:n({method:"POST",path:"/{authorization}/decline"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"issuing/cards",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{card}"}),update:n({method:"POST",path:"/{card}"}),list:n({method:"GET",path:"",methodType:"list"}),retrieveDetails:n({method:"GET",path:"/{card}/details"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"issuing/cardholders",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{cardholder}"}),update:n({method:"POST",path:"/{cardholder}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"issuing/disputes",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{dispute}"}),update:n({method:"POST",path:"/{dispute}"}),list:n({method:"GET",path:"",methodType:"list"}),submit:n({method:"POST",path:"/{dispute}/submit"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"issuing/transactions",retrieve:n({method:"GET",path:"/{transaction}"}),update:n({method:"POST",path:"/{transaction}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"radar/early_fraud_warnings",retrieve:n({method:"GET",path:"/{earlyFraudWarning}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"radar/value_lists",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{valueList}"}),update:n({method:"POST",path:"/{valueList}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{valueList}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"radar/value_list_items",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{item}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{item}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"reporting/report_runs",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{reportRun}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"reporting/report_types",retrieve:n({method:"GET",path:"/{reportType}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"sigma/scheduled_query_runs",retrieve:n({method:"GET",path:"/{scheduledQueryRun}"}),list:n({method:"GET",path:"",methodType:"list"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"terminal/connection_tokens",create:n({method:"POST",path:""})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"terminal/locations",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{location}"}),update:n({method:"POST",path:"/{location}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{location}"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"terminal/readers",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{reader}"}),update:n({method:"POST",path:"/{reader}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{reader}"}),cancelAction:n({method:"POST",path:"/{reader}/cancel_action"}),processPaymentIntent:n({method:"POST",path:"/{reader}/process_payment_intent"}),processSetupIntent:n({method:"POST",path:"/{reader}/process_setup_intent"}),setReaderDisplay:n({method:"POST",path:"/{reader}/set_reader_display"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"test_helpers/test_clocks",create:n({method:"POST",path:""}),retrieve:n({method:"GET",path:"/{testClock}"}),list:n({method:"GET",path:"",methodType:"list"}),del:n({method:"DELETE",path:"/{testClock}"}),advance:n({method:"POST",path:"/{testClock}/advance"})})},function(t,e,r){"use strict";const o=r(0),n=o.method;t.exports=o.extend({path:"test_helpers/terminal/readers",presentPaymentMethod:n({method:"POST",path:"/{reader}/present_payment_method"})})},function(t){t.exports=JSON.parse('{"name":"stripe","version":"8.215.0","description":"Stripe API wrapper","keywords":["stripe","payment processing","credit cards","api"],"homepage":"https://github.com/stripe/stripe-node","author":"Stripe <support@stripe.com> (https://stripe.com/)","contributors":["Ask Bjrn Hansen <ask@develooper.com> (http://www.askask.com/)","Michelle Bu <michelle@stripe.com>","Alex Sexton <alex@stripe.com>","James Padolsey"],"repository":{"type":"git","url":"git://github.com/stripe/stripe-node.git"},"bugs":"https://github.com/stripe/stripe-node/issues","engines":{"node":"^8.1 || >=10.*"},"main":"lib/stripe.js","types":"types/2020-08-27/index.d.ts","devDependencies":{"@typescript-eslint/eslint-plugin":"^2.13.0","@typescript-eslint/parser":"^2.13.0","chai":"~4.2.0","chai-as-promised":"~7.1.1","eslint":"^6.8.0","eslint-config-prettier":"^4.1.0","eslint-plugin-chai-friendly":"^0.4.0","eslint-plugin-prettier":"^3.0.1","mocha":"^8.3.2","mocha-junit-reporter":"^1.23.1","nock":"^13.1.1","node-fetch":"^2.6.2","nyc":"^15.1.0","prettier":"^1.16.4","typescript":"^3.7.2"},"resolutions":{"ansi-regex":"5.0.1","minimist":"1.2.6","nanoid":"3.2.0"},"dependencies":{"@types/node":">=8.1.0","qs":"^6.10.3"},"license":"MIT","scripts":{"clean":"rm -rf ./.nyc_output ./node_modules/.cache ./coverage","mocha":"nyc mocha --config=test/.mocharc.js","mocha-only":"mocha --config=test/.mocharc.js","test":"yarn lint && yarn test-typescript && yarn mocha","test-typescript":"tsc --build types/test","lint":"eslint --ext .js,.jsx,.ts .","fix":"yarn lint --fix && ./scripts/updateAPIVersion.js","report":"nyc -r text -r lcov report","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js"}}')},function(t,e,r){"use strict";const o=r(109),n=r(110),{HttpClient:i,HttpClientResponse:s}=r(3),a=new o.Agent({keepAlive:!0}),p=new n.Agent({keepAlive:!0});class c extends s{constructor(t){super(t.statusCode,t.headers||{}),this._res=t}getRawResponse(){return this._res}toStream(t){return this._res.once("end",()=>t()),this._res}toJSON(){return new Promise((t,e)=>{let r="";this._res.setEncoding("utf8"),this._res.on("data",t=>{r+=t}),this._res.once("end",()=>{try{t(JSON.parse(r))}catch(t){e(t)}})})}}t.exports={NodeHttpClient:class extends i{constructor(t){super(),this._agent=t}getClientName(){return"node"}makeRequest(t,e,r,s,u,h,d,l){const m="http"===d;let f=this._agent;f||(f=m?a:p);return new Promise((a,p)=>{const d=(m?o:n).request({host:t,port:e,path:r,method:s,agent:f,headers:u,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});d.setTimeout(l,()=>{d.destroy(i.makeTimeoutError())}),d.on("response",t=>{a(new c(t))}),d.on("error",t=>{p(t)}),d.once("socket",t=>{t.connecting?t.once(m?"connect":"secureConnect",()=>{d.write(h),d.end()}):(d.write(h),d.end())})})}},NodeHttpClientResponse:c}},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("https")},function(t,e,r){"use strict";const{HttpClient:o,HttpClientResponse:n}=r(3);class i extends n{constructor(t){super(t.status,i._transformHeadersToObject(t.headers)),this._res=t}getRawResponse(){return this._res}toStream(t){return t(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(t){const e={};for(const r of t){if(!Array.isArray(r)||2!=r.length)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");e[r[0]]=r[1]}return e}}t.exports={FetchHttpClient:class extends o{constructor(t){super(),this._fetchFn=t}getClientName(){return"fetch"}makeRequest(t,e,r,n,s,a,p,c){const u=new URL(r,`${"http"===p?"http":"https"}://${t}`);u.port=e;const h=(this._fetchFn||fetch)(u.toString(),{method:n,headers:s,body:a||void 0});let d;const l=new Promise((t,e)=>{d=setTimeout(()=>{d=null,e(o.makeTimeoutError())},c)});return Promise.race([h,l]).then(t=>new i(t)).finally(()=>{d&&clearTimeout(d)})}},FetchHttpClientResponse:i}},function(t,e,r){"use strict";const o=r(7);const n=new Array(256);for(let t=0;t<n.length;t++)n[t]=t.toString(16).padStart(2,"0");t.exports=class extends o{constructor(t){super(),this.subtleCrypto=t||crypto.subtle}computeHMACSignature(t,e){throw new Error("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(t,e){const r=new TextEncoder("utf-8"),o=await this.subtleCrypto.importKey("raw",r.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",o,r.encode(t)),s=new Uint8Array(i),a=new Array(s.length);for(let t=0;t<s.length;t++)a[t]=n[s[t]];return a.join("")}}}]));